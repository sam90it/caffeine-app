import React, { useState } from "react";import { useMutation, useQueryClient } from "@tanstack/react-query";import { backend } from "../declarations/backend";export default function CreateEntryDialog({ open, onOpenChange }: any) { const [name, setName] = useState(""); const queryClient = useQueryClient(); const mutation = useMutation({ mutationFn: async (newName: string) => await backend.createPersonProfile(newName), onSuccess: () => { queryClient.invalidateQueries({ queryKey: ["people"] }); onOpenChange(false); setName(""); } }); if (!open) return null; return ( <div className="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4"> <div className="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-200"> <h2 className="text-xl font-bold text-slate-900 tracking-tight">New Ledger Entity</h2> <p className="text-slate-500 text-sm mt-1 font-medium">Register a counterparty for the global ledger.</p> <div className="mt-6"> <label className="block text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em]">Full Legal Name / Alias</label> <input autoFocus value={name} onChange={(e) => setName(e.target.value)} className="w-full mt-2 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-900/5 outline-none transition-all font-medium" placeholder="e.g. AMIT_CORP_01" /> </div> <div className="mt-8 flex gap-3"> <button onClick={() => onOpenChange(false)} className="flex-1 p-3 text-slate-500 font-semibold hover:bg-slate-50 rounded-xl transition-colors">Cancel</button> <button onClick={() => mutation.mutate(name)} disabled={!name || mutation.isPending} className="flex-1 p-3 bg-slate-900 text-white font-semibold rounded-xl hover:bg-slate-800 disabled:opacity-50 transition-all shadow-lg shadow-slate-900/20" > {mutation.isPending ? "Syncing..." : "Create Account"} </button> </div> </div> </div> ); }