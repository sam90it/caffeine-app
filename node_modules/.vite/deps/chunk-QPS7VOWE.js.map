{
  "version": 3,
  "sources": ["../../@dfinity/agent/src/actor.ts", "../../@dfinity/agent/src/polling/index.ts", "../../@dfinity/agent/src/polling/strategy.ts", "../../@dfinity/agent/src/canisters/management_idl.ts", "../../@dfinity/agent/src/canisters/asset_idl.ts", "../../@dfinity/agent/src/canisters/asset.ts", "../../@dfinity/agent/src/fetch_candid.ts"],
  "sourcesContent": ["import { Buffer } from 'buffer/';\nimport {\n  Agent,\n  getDefaultAgent,\n  HttpDetailsResponse,\n  QueryResponseRejected,\n  QueryResponseStatus,\n  ReplicaRejectCode,\n  SubmitResponse,\n  v2ResponseBody,\n  v3ResponseBody,\n} from './agent';\nimport { AgentError } from './errors';\nimport { bufFromBufLike, IDL } from '@dfinity/candid';\nimport { pollForResponse, PollStrategyFactory, strategy } from './polling';\nimport { Principal } from '@dfinity/principal';\nimport { RequestId } from './request_id';\nimport { toHex } from './utils/buffer';\nimport { Certificate, CreateCertificateOptions, lookupResultToBuffer } from './certificate';\nimport managementCanisterIdl from './canisters/management_idl';\nimport _SERVICE, { canister_install_mode, canister_settings } from './canisters/management_service';\n\nexport class ActorCallError extends AgentError {\n  constructor(\n    public readonly canisterId: Principal,\n    public readonly methodName: string,\n    public readonly type: 'query' | 'update',\n    public readonly props: Record<string, string>,\n  ) {\n    super(\n      [\n        `Call failed:`,\n        `  Canister: ${canisterId.toText()}`,\n        `  Method: ${methodName} (${type})`,\n        ...Object.getOwnPropertyNames(props).map(n => `  \"${n}\": ${JSON.stringify(props[n])}`),\n      ].join('\\n'),\n    );\n  }\n}\n\nexport class QueryCallRejectedError extends ActorCallError {\n  constructor(\n    canisterId: Principal,\n    methodName: string,\n    public readonly result: QueryResponseRejected,\n  ) {\n    super(canisterId, methodName, 'query', {\n      Status: result.status,\n      Code: ReplicaRejectCode[result.reject_code] ?? `Unknown Code \"${result.reject_code}\"`,\n      Message: result.reject_message,\n    });\n  }\n}\n\nexport class UpdateCallRejectedError extends ActorCallError {\n  constructor(\n    canisterId: Principal,\n    methodName: string,\n    public readonly requestId: RequestId,\n    public readonly response: SubmitResponse['response'],\n    public readonly reject_code: ReplicaRejectCode,\n    public readonly reject_message: string,\n    public readonly error_code?: string,\n  ) {\n    super(canisterId, methodName, 'update', {\n      'Request ID': toHex(requestId),\n      ...(response.body\n        ? {\n            ...(error_code\n              ? {\n                  'Error code': error_code,\n                }\n              : {}),\n            'Reject code': String(reject_code),\n            'Reject message': reject_message,\n          }\n        : {\n            'HTTP status code': response.status.toString(),\n            'HTTP status text': response.statusText,\n          }),\n    });\n  }\n}\n\n/**\n * Configuration to make calls to the Replica.\n */\nexport interface CallConfig {\n  /**\n   * An agent to use in this call, otherwise the actor or call will try to discover the\n   * agent to use.\n   */\n  agent?: Agent;\n\n  /**\n   * A polling strategy factory that dictates how much and often we should poll the\n   * read_state endpoint to get the result of an update call.\n   */\n  pollingStrategyFactory?: PollStrategyFactory;\n\n  /**\n   * The canister ID of this Actor.\n   */\n  canisterId?: string | Principal;\n\n  /**\n   * The effective canister ID. This should almost always be ignored.\n   */\n  effectiveCanisterId?: Principal;\n}\n\n/**\n * Configuration that can be passed to customize the Actor behaviour.\n */\nexport interface ActorConfig extends CallConfig {\n  /**\n   * The Canister ID of this Actor. This is required for an Actor.\n   */\n  canisterId: string | Principal;\n\n  /**\n   * An override function for update calls' CallConfig. This will be called on every calls.\n   */\n  callTransform?(\n    methodName: string,\n    args: unknown[],\n    callConfig: CallConfig,\n  ): Partial<CallConfig> | void;\n\n  /**\n   * An override function for query calls' CallConfig. This will be called on every query.\n   */\n  queryTransform?(\n    methodName: string,\n    args: unknown[],\n    callConfig: CallConfig,\n  ): Partial<CallConfig> | void;\n\n  /**\n   * Polyfill for BLS Certificate verification in case wasm is not supported\n   */\n  blsVerify?: CreateCertificateOptions['blsVerify'];\n}\n\n// TODO: move this to proper typing when Candid support TypeScript.\n/**\n * A subclass of an actor. Actor class itself is meant to be a based class.\n */\nexport type ActorSubclass<T = Record<string, ActorMethod>> = Actor & T;\n\n/**\n * An actor method type, defined for each methods of the actor service.\n */\nexport interface ActorMethod<Args extends unknown[] = unknown[], Ret = unknown> {\n  (...args: Args): Promise<Ret>;\n\n  withOptions(options: CallConfig): (...args: Args) => Promise<Ret>;\n}\n\n/**\n * An actor method type, defined for each methods of the actor service.\n */\nexport interface ActorMethodWithHttpDetails<Args extends unknown[] = unknown[], Ret = unknown>\n  extends ActorMethod {\n  (...args: Args): Promise<{ httpDetails: HttpDetailsResponse; result: Ret }>;\n}\n\n/**\n * An actor method type, defined for each methods of the actor service.\n */\nexport interface ActorMethodExtended<Args extends unknown[] = unknown[], Ret = unknown>\n  extends ActorMethod {\n  (...args: Args): Promise<{\n    certificate?: Certificate;\n    httpDetails?: HttpDetailsResponse;\n    result: Ret;\n  }>;\n}\n\nexport type FunctionWithArgsAndReturn<Args extends unknown[] = unknown[], Ret = unknown> = (\n  ...args: Args\n) => Ret;\n\n// Update all entries of T with the extra information from ActorMethodWithInfo\nexport type ActorMethodMappedWithHttpDetails<T> = {\n  [K in keyof T]: T[K] extends FunctionWithArgsAndReturn<infer Args, infer Ret>\n    ? ActorMethodWithHttpDetails<Args, Ret>\n    : never;\n};\n\n// Update all entries of T with the extra information from ActorMethodWithInfo\nexport type ActorMethodMappedExtended<T> = {\n  [K in keyof T]: T[K] extends FunctionWithArgsAndReturn<infer Args, infer Ret>\n    ? ActorMethodExtended<Args, Ret>\n    : never;\n};\n\n/**\n * The mode used when installing a canister.\n */\nexport type CanisterInstallMode =\n  | {\n      reinstall: null;\n    }\n  | {\n      upgrade:\n        | []\n        | [\n            {\n              skip_pre_upgrade: [] | [boolean];\n            },\n          ];\n    }\n  | {\n      install: null;\n    };\n\n/**\n * Internal metadata for actors. It's an enhanced version of ActorConfig with\n * some fields marked as required (as they are defaulted) and canisterId as\n * a Principal type.\n */\ninterface ActorMetadata {\n  service: IDL.ServiceClass;\n  agent?: Agent;\n  config: ActorConfig;\n}\n\nconst metadataSymbol = Symbol.for('ic-agent-metadata');\n\nexport interface CreateActorClassOpts {\n  httpDetails?: boolean;\n  certificate?: boolean;\n}\n\ninterface CreateCanisterSettings {\n  freezing_threshold?: bigint;\n  controllers?: Array<Principal>;\n  memory_allocation?: bigint;\n  compute_allocation?: bigint;\n}\n\n/**\n * An actor base class. An actor is an object containing only functions that will\n * return a promise. These functions are derived from the IDL definition.\n */\nexport class Actor {\n  /**\n   * Get the Agent class this Actor would call, or undefined if the Actor would use\n   * the default agent (global.ic.agent).\n   * @param actor The actor to get the agent of.\n   */\n  public static agentOf(actor: Actor): Agent | undefined {\n    return actor[metadataSymbol].config.agent;\n  }\n\n  /**\n   * Get the interface of an actor, in the form of an instance of a Service.\n   * @param actor The actor to get the interface of.\n   */\n  public static interfaceOf(actor: Actor): IDL.ServiceClass {\n    return actor[metadataSymbol].service;\n  }\n\n  public static canisterIdOf(actor: Actor): Principal {\n    return Principal.from(actor[metadataSymbol].config.canisterId);\n  }\n\n  public static async install(\n    fields: {\n      module: ArrayBuffer;\n      mode?: canister_install_mode;\n      arg?: ArrayBuffer;\n    },\n    config: ActorConfig,\n  ): Promise<void> {\n    const mode = fields.mode === undefined ? { install: null } : fields.mode;\n    // Need to transform the arg into a number array.\n    const arg = fields.arg ? [...new Uint8Array(fields.arg)] : [];\n    // Same for module.\n    const wasmModule = [...new Uint8Array(fields.module)];\n    const canisterId =\n      typeof config.canisterId === 'string'\n        ? Principal.fromText(config.canisterId)\n        : config.canisterId;\n\n    await getManagementCanister(config).install_code({\n      mode,\n      arg,\n      wasm_module: wasmModule,\n      canister_id: canisterId,\n      sender_canister_version: [],\n    });\n  }\n\n  public static async createCanister(\n    config?: CallConfig,\n    settings?: CreateCanisterSettings,\n  ): Promise<Principal> {\n    function settingsToCanisterSettings(settings: CreateCanisterSettings): [canister_settings] {\n      return [\n        {\n          controllers: settings.controllers ? [settings.controllers] : [],\n          compute_allocation: settings.compute_allocation ? [settings.compute_allocation] : [],\n          freezing_threshold: settings.freezing_threshold ? [settings.freezing_threshold] : [],\n          memory_allocation: settings.memory_allocation ? [settings.memory_allocation] : [],\n          reserved_cycles_limit: [],\n          log_visibility: [],\n          wasm_memory_limit: [],\n        },\n      ];\n    }\n\n    const { canister_id: canisterId } = await getManagementCanister(\n      config || {},\n    ).provisional_create_canister_with_cycles({\n      amount: [],\n      settings: settingsToCanisterSettings(settings || {}),\n      specified_id: [],\n      sender_canister_version: [],\n    });\n\n    return canisterId;\n  }\n\n  public static async createAndInstallCanister(\n    interfaceFactory: IDL.InterfaceFactory,\n    fields: {\n      module: ArrayBuffer;\n      arg?: ArrayBuffer;\n    },\n    config?: CallConfig,\n  ): Promise<ActorSubclass> {\n    const canisterId = await this.createCanister(config);\n    await this.install(\n      {\n        ...fields,\n      },\n      { ...config, canisterId },\n    );\n\n    return this.createActor(interfaceFactory, { ...config, canisterId });\n  }\n\n  public static createActorClass(\n    interfaceFactory: IDL.InterfaceFactory,\n    options?: CreateActorClassOpts,\n  ): ActorConstructor {\n    const service = interfaceFactory({ IDL });\n\n    class CanisterActor extends Actor {\n      [x: string]: ActorMethod;\n\n      constructor(config: ActorConfig) {\n        if (!config.canisterId)\n          throw new AgentError(\n            `Canister ID is required, but received ${typeof config.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`,\n          );\n        const canisterId =\n          typeof config.canisterId === 'string'\n            ? Principal.fromText(config.canisterId)\n            : config.canisterId;\n\n        super({\n          config: {\n            ...DEFAULT_ACTOR_CONFIG,\n            ...config,\n            canisterId,\n          },\n          service,\n        });\n\n        for (const [methodName, func] of service._fields) {\n          if (options?.httpDetails) {\n            func.annotations.push(ACTOR_METHOD_WITH_HTTP_DETAILS);\n          }\n          if (options?.certificate) {\n            func.annotations.push(ACTOR_METHOD_WITH_CERTIFICATE);\n          }\n\n          this[methodName] = _createActorMethod(this, methodName, func, config.blsVerify);\n        }\n      }\n    }\n\n    return CanisterActor;\n  }\n\n  public static createActor<T = Record<string, ActorMethod>>(\n    interfaceFactory: IDL.InterfaceFactory,\n    configuration: ActorConfig,\n  ): ActorSubclass<T> {\n    if (!configuration.canisterId) {\n      throw new AgentError(\n        `Canister ID is required, but received ${typeof configuration.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`,\n      );\n    }\n    return new (this.createActorClass(interfaceFactory))(\n      configuration,\n    ) as unknown as ActorSubclass<T>;\n  }\n\n  /**\n   * Returns an actor with methods that return the http response details along with the result\n   * @param interfaceFactory - the interface factory for the actor\n   * @param configuration - the configuration for the actor\n   * @deprecated - use createActor with actorClassOptions instead\n   */\n  public static createActorWithHttpDetails<T = Record<string, ActorMethod>>(\n    interfaceFactory: IDL.InterfaceFactory,\n    configuration: ActorConfig,\n  ): ActorSubclass<ActorMethodMappedWithHttpDetails<T>> {\n    return new (this.createActorClass(interfaceFactory, { httpDetails: true }))(\n      configuration,\n    ) as unknown as ActorSubclass<ActorMethodMappedWithHttpDetails<T>>;\n  }\n\n  /**\n   * Returns an actor with methods that return the http response details along with the result\n   * @param interfaceFactory - the interface factory for the actor\n   * @param configuration - the configuration for the actor\n   * @param actorClassOptions - options for the actor class extended details to return with the result\n   */\n  public static createActorWithExtendedDetails<T = Record<string, ActorMethod>>(\n    interfaceFactory: IDL.InterfaceFactory,\n    configuration: ActorConfig,\n    actorClassOptions: CreateActorClassOpts = {\n      httpDetails: true,\n      certificate: true,\n    },\n  ): ActorSubclass<ActorMethodMappedExtended<T>> {\n    return new (this.createActorClass(interfaceFactory, actorClassOptions))(\n      configuration,\n    ) as unknown as ActorSubclass<ActorMethodMappedExtended<T>>;\n  }\n\n  private [metadataSymbol]: ActorMetadata;\n\n  protected constructor(metadata: ActorMetadata) {\n    this[metadataSymbol] = Object.freeze(metadata);\n  }\n}\n\n// IDL functions can have multiple return values, so decoding always\n// produces an array. Ensure that functions with single or zero return\n// values behave as expected.\nfunction decodeReturnValue(types: IDL.Type[], msg: ArrayBuffer) {\n  const returnValues = IDL.decode(types, Buffer.from(msg));\n  switch (returnValues.length) {\n    case 0:\n      return undefined;\n    case 1:\n      return returnValues[0];\n    default:\n      return returnValues;\n  }\n}\n\nconst DEFAULT_ACTOR_CONFIG = {\n  pollingStrategyFactory: strategy.defaultStrategy,\n};\n\nexport type ActorConstructor = new (config: ActorConfig) => ActorSubclass;\n\nexport const ACTOR_METHOD_WITH_HTTP_DETAILS = 'http-details';\nexport const ACTOR_METHOD_WITH_CERTIFICATE = 'certificate';\n\nfunction _createActorMethod(\n  actor: Actor,\n  methodName: string,\n  func: IDL.FuncClass,\n  blsVerify?: CreateCertificateOptions['blsVerify'],\n): ActorMethod {\n  let caller: (options: CallConfig, ...args: unknown[]) => Promise<unknown>;\n  if (func.annotations.includes('query') || func.annotations.includes('composite_query')) {\n    caller = async (options, ...args) => {\n      // First, if there's a config transformation, call it.\n      options = {\n        ...options,\n        ...actor[metadataSymbol].config.queryTransform?.(methodName, args, {\n          ...actor[metadataSymbol].config,\n          ...options,\n        }),\n      };\n\n      const agent = options.agent || actor[metadataSymbol].config.agent || getDefaultAgent();\n      const cid = Principal.from(options.canisterId || actor[metadataSymbol].config.canisterId);\n      const arg = IDL.encode(func.argTypes, args);\n\n      const result = await agent.query(cid, {\n        methodName,\n        arg,\n        effectiveCanisterId: options.effectiveCanisterId,\n      });\n      const httpDetails = {\n        ...result.httpDetails,\n        requestDetails: result.requestDetails,\n      } as HttpDetailsResponse;\n\n      switch (result.status) {\n        case QueryResponseStatus.Rejected:\n          throw new QueryCallRejectedError(cid, methodName, result);\n\n        case QueryResponseStatus.Replied:\n          return func.annotations.includes(ACTOR_METHOD_WITH_HTTP_DETAILS)\n            ? {\n                httpDetails,\n                result: decodeReturnValue(func.retTypes, result.reply.arg),\n              }\n            : decodeReturnValue(func.retTypes, result.reply.arg);\n      }\n    };\n  } else {\n    caller = async (options, ...args) => {\n      // First, if there's a config transformation, call it.\n      options = {\n        ...options,\n        ...actor[metadataSymbol].config.callTransform?.(methodName, args, {\n          ...actor[metadataSymbol].config,\n          ...options,\n        }),\n      };\n\n      const agent = options.agent || actor[metadataSymbol].config.agent || getDefaultAgent();\n      const { canisterId, effectiveCanisterId, pollingStrategyFactory } = {\n        ...DEFAULT_ACTOR_CONFIG,\n        ...actor[metadataSymbol].config,\n        ...options,\n      };\n      const cid = Principal.from(canisterId);\n      const ecid = effectiveCanisterId !== undefined ? Principal.from(effectiveCanisterId) : cid;\n      const arg = IDL.encode(func.argTypes, args);\n\n      const { requestId, response, requestDetails } = await agent.call(cid, {\n        methodName,\n        arg,\n        effectiveCanisterId: ecid,\n      });\n      let reply: ArrayBuffer | undefined;\n      let certificate: Certificate | undefined;\n      if (response.body && (response.body as v3ResponseBody).certificate) {\n        if (agent.rootKey == null) {\n          throw new Error('Agent is missing root key');\n        }\n        const cert = (response.body as v3ResponseBody).certificate;\n        certificate = await Certificate.create({\n          certificate: bufFromBufLike(cert),\n          rootKey: agent.rootKey,\n          canisterId: Principal.from(canisterId),\n          blsVerify,\n        });\n        const path = [new TextEncoder().encode('request_status'), requestId];\n        const status = new TextDecoder().decode(\n          lookupResultToBuffer(certificate.lookup([...path, 'status'])),\n        );\n\n        switch (status) {\n          case 'replied':\n            reply = lookupResultToBuffer(certificate.lookup([...path, 'reply']));\n            break;\n          case 'rejected': {\n            // Find rejection details in the certificate\n            const rejectCode = new Uint8Array(\n              lookupResultToBuffer(certificate.lookup([...path, 'reject_code']))!,\n            )[0];\n            const rejectMessage = new TextDecoder().decode(\n              lookupResultToBuffer(certificate.lookup([...path, 'reject_message']))!,\n            );\n            const error_code_buf = lookupResultToBuffer(\n              certificate.lookup([...path, 'error_code']),\n            );\n            const error_code = error_code_buf\n              ? new TextDecoder().decode(error_code_buf)\n              : undefined;\n            throw new UpdateCallRejectedError(\n              cid,\n              methodName,\n              requestId,\n              response,\n              rejectCode,\n              rejectMessage,\n              error_code,\n            );\n          }\n        }\n      } else if (response.body && 'reject_message' in response.body) {\n        // handle v2 response errors by throwing an UpdateCallRejectedError object\n        const { reject_code, reject_message, error_code } = response.body as v2ResponseBody;\n        throw new UpdateCallRejectedError(\n          cid,\n          methodName,\n          requestId,\n          response,\n          reject_code,\n          reject_message,\n          error_code,\n        );\n      }\n\n      // Fall back to polling if we receive an Accepted response code\n      if (response.status === 202) {\n        const pollStrategy = pollingStrategyFactory();\n        // Contains the certificate and the reply from the boundary node\n        const response = await pollForResponse(agent, ecid, requestId, pollStrategy, blsVerify);\n        certificate = response.certificate;\n        reply = response.reply;\n      }\n      const shouldIncludeHttpDetails = func.annotations.includes(ACTOR_METHOD_WITH_HTTP_DETAILS);\n      const shouldIncludeCertificate = func.annotations.includes(ACTOR_METHOD_WITH_CERTIFICATE);\n\n      const httpDetails = { ...response, requestDetails } as HttpDetailsResponse;\n      if (reply !== undefined) {\n        if (shouldIncludeHttpDetails && shouldIncludeCertificate) {\n          return {\n            httpDetails,\n            certificate,\n            result: decodeReturnValue(func.retTypes, reply),\n          };\n        } else if (shouldIncludeCertificate) {\n          return {\n            certificate,\n            result: decodeReturnValue(func.retTypes, reply),\n          };\n        } else if (shouldIncludeHttpDetails) {\n          return {\n            httpDetails,\n            result: decodeReturnValue(func.retTypes, reply),\n          };\n        }\n        return decodeReturnValue(func.retTypes, reply);\n      } else if (func.retTypes.length === 0) {\n        return shouldIncludeHttpDetails\n          ? {\n              httpDetails: response,\n              result: undefined,\n            }\n          : undefined;\n      } else {\n        throw new Error(`Call was returned undefined, but type [${func.retTypes.join(',')}].`);\n      }\n    };\n  }\n\n  const handler = (...args: unknown[]) => caller({}, ...args);\n  handler.withOptions =\n    (options: CallConfig) =>\n    (...args: unknown[]) =>\n      caller(options, ...args);\n  return handler as ActorMethod;\n}\n\nexport type ManagementCanisterRecord = _SERVICE;\n\n/**\n * Create a management canister actor\n * @param config - a CallConfig\n */\nexport function getManagementCanister(config: CallConfig): ActorSubclass<ManagementCanisterRecord> {\n  function transform(\n    methodName: string,\n    args: Record<string, unknown> & { canister_id: string; target_canister?: unknown }[],\n  ) {\n    if (config.effectiveCanisterId) {\n      return { effectiveCanisterId: Principal.from(config.effectiveCanisterId) };\n    }\n    const first = args[0];\n    let effectiveCanisterId = Principal.fromHex('');\n    if (first && typeof first === 'object' && first.target_canister && methodName === \"install_chunked_code\") {\n      effectiveCanisterId = Principal.from(first.target_canister);\n    }\n    if (first && typeof first === 'object' && first.canister_id) {\n      effectiveCanisterId = Principal.from(first.canister_id as unknown);\n    }\n    return { effectiveCanisterId };\n  }\n\n  return Actor.createActor<ManagementCanisterRecord>(managementCanisterIdl, {\n    ...config,\n    canisterId: Principal.fromHex(''),\n    ...{\n      callTransform: transform,\n      queryTransform: transform,\n    },\n  });\n}\n\nexport class AdvancedActor extends Actor {\n  constructor(metadata: ActorMetadata) {\n    super(metadata);\n  }\n}\n", "import { Principal } from '@dfinity/principal';\nimport { Agent, Expiry, RequestStatusResponseStatus } from '../agent';\nimport { Certificate, CreateCertificateOptions, lookupResultToBuffer } from '../certificate';\nimport { RequestId } from '../request_id';\nimport { toHex } from '../utils/buffer';\n\nexport * as strategy from './strategy';\nimport { defaultStrategy } from './strategy';\nimport { DEFAULT_INGRESS_EXPIRY_DELTA_IN_MSECS } from '../constants';\nimport { ReadRequestType, ReadStateRequest } from '../agent/http/types';\nexport { defaultStrategy } from './strategy';\nexport type PollStrategy = (\n  canisterId: Principal,\n  requestId: RequestId,\n  status: RequestStatusResponseStatus,\n) => Promise<void>;\nexport type PollStrategyFactory = () => PollStrategy;\n\ninterface SignedReadStateRequestWithExpiry {\n  body: {\n    content: Pick<ReadStateRequest, 'request_type' | 'ingress_expiry'>;\n  };\n}\n\n/**\n * Check if an object has a property\n * @param value the object that might have the property\n * @param property the key of property we're looking for\n */\nfunction hasProperty<O extends object, P extends string>(\n  value: O,\n  property: P,\n): value is O & Record<P, unknown> {\n  return Object.prototype.hasOwnProperty.call(value, property);\n}\n\n/**\n * Check if value is a signed read state request with expiry\n * @param value to check\n */\nfunction isSignedReadStateRequestWithExpiry(\n  value: unknown,\n): value is SignedReadStateRequestWithExpiry {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    hasProperty(value, 'body') &&\n    value.body !== null &&\n    typeof value.body === 'object' &&\n    hasProperty(value.body, 'content') &&\n    value.body.content !== null &&\n    typeof value.body.content === 'object' &&\n    hasProperty(value.body.content, 'request_type') &&\n    value.body.content.request_type === ReadRequestType.ReadState &&\n    hasProperty(value.body.content, 'ingress_expiry') &&\n    typeof value.body.content.ingress_expiry === 'object' &&\n    value.body.content.ingress_expiry !== null &&\n    hasProperty(value.body.content.ingress_expiry, 'toCBOR') &&\n    typeof value.body.content.ingress_expiry.toCBOR === 'function' &&\n    hasProperty(value.body.content.ingress_expiry, 'toHash') &&\n    typeof value.body.content.ingress_expiry.toHash === 'function'\n  );\n}\n\n/**\n * Polls the IC to check the status of the given request then\n * returns the response bytes once the request has been processed.\n * @param agent The agent to use to poll read_state.\n * @param canisterId The effective canister ID.\n * @param requestId The Request ID to poll status for.\n * @param strategy A polling strategy.\n * @param request Request for the repeated readState call.\n * @param blsVerify - optional replacement function that verifies the BLS signature of a certificate.\n */\nexport async function pollForResponse(\n  agent: Agent,\n  canisterId: Principal,\n  requestId: RequestId,\n  strategy: PollStrategy = defaultStrategy(),\n  request?: unknown,\n  blsVerify?: CreateCertificateOptions['blsVerify'],\n): Promise<{\n  certificate: Certificate;\n  reply: ArrayBuffer;\n}> {\n  const path = [new TextEncoder().encode('request_status'), requestId];\n  const currentRequest = request ?? (await agent.createReadStateRequest?.({ paths: [path] }));\n\n  const state = await agent.readState(canisterId, { paths: [path] }, undefined, currentRequest);\n  if (agent.rootKey == null) throw new Error('Agent root key not initialized before polling');\n  const cert = await Certificate.create({\n    certificate: state.certificate,\n    rootKey: agent.rootKey,\n    canisterId: canisterId,\n    blsVerify,\n  });\n\n  const maybeBuf = lookupResultToBuffer(cert.lookup([...path, new TextEncoder().encode('status')]));\n  let status;\n  if (typeof maybeBuf === 'undefined') {\n    // Missing requestId means we need to wait\n    status = RequestStatusResponseStatus.Unknown;\n  } else {\n    status = new TextDecoder().decode(maybeBuf);\n  }\n\n  switch (status) {\n    case RequestStatusResponseStatus.Replied: {\n      return {\n        reply: lookupResultToBuffer(cert.lookup([...path, 'reply']))!,\n        certificate: cert,\n      };\n    }\n\n    case RequestStatusResponseStatus.Received:\n    case RequestStatusResponseStatus.Unknown:\n    case RequestStatusResponseStatus.Processing:\n      // Execute the polling strategy, then retry.\n      await strategy(canisterId, requestId, status);\n      return pollForResponse(agent, canisterId, requestId, strategy, currentRequest, blsVerify);\n\n    case RequestStatusResponseStatus.Rejected: {\n      const rejectCode = new Uint8Array(\n        lookupResultToBuffer(cert.lookup([...path, 'reject_code']))!,\n      )[0];\n      const rejectMessage = new TextDecoder().decode(\n        lookupResultToBuffer(cert.lookup([...path, 'reject_message']))!,\n      );\n      throw new Error(\n        `Call was rejected:\\n` +\n          `  Request ID: ${toHex(requestId)}\\n` +\n          `  Reject code: ${rejectCode}\\n` +\n          `  Reject text: ${rejectMessage}\\n`,\n      );\n    }\n\n    case RequestStatusResponseStatus.Done:\n      // This is _technically_ not an error, but we still didn't see the `Replied` status so\n      // we don't know the result and cannot decode it.\n      throw new Error(\n        `Call was marked as done but we never saw the reply:\\n` +\n          `  Request ID: ${toHex(requestId)}\\n`,\n      );\n  }\n  throw new Error('unreachable');\n}\n", "import { Principal } from '@dfinity/principal';\nimport { RequestStatusResponseStatus } from '../agent';\nimport { toHex } from '../utils/buffer';\nimport { PollStrategy } from './index';\nimport { RequestId } from '../request_id';\n\nexport type Predicate<T> = (\n  canisterId: Principal,\n  requestId: RequestId,\n  status: RequestStatusResponseStatus,\n) => Promise<T>;\n\nconst FIVE_MINUTES_IN_MSEC = 5 * 60 * 1000;\n\n/**\n * A best practices polling strategy: wait 2 seconds before the first poll, then 1 second\n * with an exponential backoff factor of 1.2. Timeout after 5 minutes.\n */\nexport function defaultStrategy(): PollStrategy {\n  return chain(conditionalDelay(once(), 1000), backoff(1000, 1.2), timeout(FIVE_MINUTES_IN_MSEC));\n}\n\n/**\n * Predicate that returns true once.\n */\nexport function once(): Predicate<boolean> {\n  let first = true;\n  return async () => {\n    if (first) {\n      first = false;\n      return true;\n    }\n    return false;\n  };\n}\n\n/**\n * Delay the polling once.\n * @param condition A predicate that indicates when to delay.\n * @param timeInMsec The amount of time to delay.\n */\nexport function conditionalDelay(condition: Predicate<boolean>, timeInMsec: number): PollStrategy {\n  return async (\n    canisterId: Principal,\n    requestId: RequestId,\n    status: RequestStatusResponseStatus,\n  ) => {\n    if (await condition(canisterId, requestId, status)) {\n      return new Promise(resolve => setTimeout(resolve, timeInMsec));\n    }\n  };\n}\n\n/**\n * Error out after a maximum number of polling has been done.\n * @param count The maximum attempts to poll.\n */\nexport function maxAttempts(count: number): PollStrategy {\n  let attempts = count;\n  return async (\n    canisterId: Principal,\n    requestId: RequestId,\n    status: RequestStatusResponseStatus,\n  ) => {\n    if (--attempts <= 0) {\n      throw new Error(\n        `Failed to retrieve a reply for request after ${count} attempts:\\n` +\n          `  Request ID: ${toHex(requestId)}\\n` +\n          `  Request status: ${status}\\n`,\n      );\n    }\n  };\n}\n\n/**\n * Throttle polling.\n * @param throttleInMsec Amount in millisecond to wait between each polling.\n */\nexport function throttle(throttleInMsec: number): PollStrategy {\n  return () => new Promise(resolve => setTimeout(resolve, throttleInMsec));\n}\n\n/**\n * Reject a call after a certain amount of time.\n * @param timeInMsec Time in milliseconds before the polling should be rejected.\n */\nexport function timeout(timeInMsec: number): PollStrategy {\n  const end = Date.now() + timeInMsec;\n  return async (\n    canisterId: Principal,\n    requestId: RequestId,\n    status: RequestStatusResponseStatus,\n  ) => {\n    if (Date.now() > end) {\n      throw new Error(\n        `Request timed out after ${timeInMsec} msec:\\n` +\n          `  Request ID: ${toHex(requestId)}\\n` +\n          `  Request status: ${status}\\n`,\n      );\n    }\n  };\n}\n\n/**\n * A strategy that throttle, but using an exponential backoff strategy.\n * @param startingThrottleInMsec The throttle in milliseconds to start with.\n * @param backoffFactor The factor to multiple the throttle time between every poll. For\n *   example if using 2, the throttle will double between every run.\n */\nexport function backoff(startingThrottleInMsec: number, backoffFactor: number): PollStrategy {\n  let currentThrottling = startingThrottleInMsec;\n\n  return () =>\n    new Promise(resolve =>\n      setTimeout(() => {\n        currentThrottling *= backoffFactor;\n        resolve();\n      }, currentThrottling),\n    );\n}\n\n/**\n * Chain multiple polling strategy. This _chains_ the strategies, so if you pass in,\n * say, two throttling strategy of 1 second, it will result in a throttle of 2 seconds.\n * @param strategies A strategy list to chain.\n */\nexport function chain(...strategies: PollStrategy[]): PollStrategy {\n  return async (\n    canisterId: Principal,\n    requestId: RequestId,\n    status: RequestStatusResponseStatus,\n  ) => {\n    for (const a of strategies) {\n      await a(canisterId, requestId, status);\n    }\n  };\n}\n", "/*\n * This file is generated from the candid for asset management.\n * didc version: 0.4.0\n */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n\nexport default ({ IDL }) => {\n  const bitcoin_network = IDL.Variant({\n    mainnet: IDL.Null,\n    testnet: IDL.Null,\n  });\n  const bitcoin_address = IDL.Text;\n  const bitcoin_get_balance_args = IDL.Record({\n    network: bitcoin_network,\n    address: bitcoin_address,\n    min_confirmations: IDL.Opt(IDL.Nat32),\n  });\n  const satoshi = IDL.Nat64;\n  const bitcoin_get_balance_result = satoshi;\n  const bitcoin_block_height = IDL.Nat32;\n  const bitcoin_get_block_headers_args = IDL.Record({\n    start_height: bitcoin_block_height,\n    end_height: IDL.Opt(bitcoin_block_height),\n    network: bitcoin_network,\n  });\n  const bitcoin_block_header = IDL.Vec(IDL.Nat8);\n  const bitcoin_get_block_headers_result = IDL.Record({\n    tip_height: bitcoin_block_height,\n    block_headers: IDL.Vec(bitcoin_block_header),\n  });\n  const bitcoin_get_current_fee_percentiles_args = IDL.Record({\n    network: bitcoin_network,\n  });\n  const millisatoshi_per_byte = IDL.Nat64;\n  const bitcoin_get_current_fee_percentiles_result = IDL.Vec(millisatoshi_per_byte);\n  const bitcoin_get_utxos_args = IDL.Record({\n    network: bitcoin_network,\n    filter: IDL.Opt(\n      IDL.Variant({\n        page: IDL.Vec(IDL.Nat8),\n        min_confirmations: IDL.Nat32,\n      }),\n    ),\n    address: bitcoin_address,\n  });\n  const bitcoin_block_hash = IDL.Vec(IDL.Nat8);\n  const outpoint = IDL.Record({\n    txid: IDL.Vec(IDL.Nat8),\n    vout: IDL.Nat32,\n  });\n  const utxo = IDL.Record({\n    height: IDL.Nat32,\n    value: satoshi,\n    outpoint: outpoint,\n  });\n  const bitcoin_get_utxos_result = IDL.Record({\n    next_page: IDL.Opt(IDL.Vec(IDL.Nat8)),\n    tip_height: bitcoin_block_height,\n    tip_block_hash: bitcoin_block_hash,\n    utxos: IDL.Vec(utxo),\n  });\n  const bitcoin_send_transaction_args = IDL.Record({\n    transaction: IDL.Vec(IDL.Nat8),\n    network: bitcoin_network,\n  });\n  const canister_id = IDL.Principal;\n  const canister_info_args = IDL.Record({\n    canister_id: canister_id,\n    num_requested_changes: IDL.Opt(IDL.Nat64),\n  });\n  const change_origin = IDL.Variant({\n    from_user: IDL.Record({ user_id: IDL.Principal }),\n    from_canister: IDL.Record({\n      canister_version: IDL.Opt(IDL.Nat64),\n      canister_id: IDL.Principal,\n    }),\n  });\n  const snapshot_id = IDL.Vec(IDL.Nat8);\n  const change_details = IDL.Variant({\n    creation: IDL.Record({ controllers: IDL.Vec(IDL.Principal) }),\n    code_deployment: IDL.Record({\n      mode: IDL.Variant({\n        reinstall: IDL.Null,\n        upgrade: IDL.Null,\n        install: IDL.Null,\n      }),\n      module_hash: IDL.Vec(IDL.Nat8),\n    }),\n    load_snapshot: IDL.Record({\n      canister_version: IDL.Nat64,\n      taken_at_timestamp: IDL.Nat64,\n      snapshot_id: snapshot_id,\n    }),\n    controllers_change: IDL.Record({\n      controllers: IDL.Vec(IDL.Principal),\n    }),\n    code_uninstall: IDL.Null,\n  });\n  const change = IDL.Record({\n    timestamp_nanos: IDL.Nat64,\n    canister_version: IDL.Nat64,\n    origin: change_origin,\n    details: change_details,\n  });\n  const canister_info_result = IDL.Record({\n    controllers: IDL.Vec(IDL.Principal),\n    module_hash: IDL.Opt(IDL.Vec(IDL.Nat8)),\n    recent_changes: IDL.Vec(change),\n    total_num_changes: IDL.Nat64,\n  });\n  const canister_status_args = IDL.Record({ canister_id: canister_id });\n  const log_visibility = IDL.Variant({\n    controllers: IDL.Null,\n    public: IDL.Null,\n    allowed_viewers: IDL.Vec(IDL.Principal),\n  });\n  const definite_canister_settings = IDL.Record({\n    freezing_threshold: IDL.Nat,\n    controllers: IDL.Vec(IDL.Principal),\n    reserved_cycles_limit: IDL.Nat,\n    log_visibility: log_visibility,\n    wasm_memory_limit: IDL.Nat,\n    memory_allocation: IDL.Nat,\n    compute_allocation: IDL.Nat,\n  });\n  const canister_status_result = IDL.Record({\n    status: IDL.Variant({\n      stopped: IDL.Null,\n      stopping: IDL.Null,\n      running: IDL.Null,\n    }),\n    memory_size: IDL.Nat,\n    cycles: IDL.Nat,\n    settings: definite_canister_settings,\n    query_stats: IDL.Record({\n      response_payload_bytes_total: IDL.Nat,\n      num_instructions_total: IDL.Nat,\n      num_calls_total: IDL.Nat,\n      request_payload_bytes_total: IDL.Nat,\n    }),\n    idle_cycles_burned_per_day: IDL.Nat,\n    module_hash: IDL.Opt(IDL.Vec(IDL.Nat8)),\n    reserved_cycles: IDL.Nat,\n  });\n  const clear_chunk_store_args = IDL.Record({ canister_id: canister_id });\n  const canister_settings = IDL.Record({\n    freezing_threshold: IDL.Opt(IDL.Nat),\n    controllers: IDL.Opt(IDL.Vec(IDL.Principal)),\n    reserved_cycles_limit: IDL.Opt(IDL.Nat),\n    log_visibility: IDL.Opt(log_visibility),\n    wasm_memory_limit: IDL.Opt(IDL.Nat),\n    memory_allocation: IDL.Opt(IDL.Nat),\n    compute_allocation: IDL.Opt(IDL.Nat),\n  });\n  const create_canister_args = IDL.Record({\n    settings: IDL.Opt(canister_settings),\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const create_canister_result = IDL.Record({ canister_id: canister_id });\n  const delete_canister_args = IDL.Record({ canister_id: canister_id });\n  const delete_canister_snapshot_args = IDL.Record({\n    canister_id: canister_id,\n    snapshot_id: snapshot_id,\n  });\n  const deposit_cycles_args = IDL.Record({ canister_id: canister_id });\n  const ecdsa_curve = IDL.Variant({ secp256k1: IDL.Null });\n  const ecdsa_public_key_args = IDL.Record({\n    key_id: IDL.Record({ name: IDL.Text, curve: ecdsa_curve }),\n    canister_id: IDL.Opt(canister_id),\n    derivation_path: IDL.Vec(IDL.Vec(IDL.Nat8)),\n  });\n  const ecdsa_public_key_result = IDL.Record({\n    public_key: IDL.Vec(IDL.Nat8),\n    chain_code: IDL.Vec(IDL.Nat8),\n  });\n  const fetch_canister_logs_args = IDL.Record({ canister_id: canister_id });\n  const canister_log_record = IDL.Record({\n    idx: IDL.Nat64,\n    timestamp_nanos: IDL.Nat64,\n    content: IDL.Vec(IDL.Nat8),\n  });\n  const fetch_canister_logs_result = IDL.Record({\n    canister_log_records: IDL.Vec(canister_log_record),\n  });\n  const http_header = IDL.Record({ value: IDL.Text, name: IDL.Text });\n  const http_request_result = IDL.Record({\n    status: IDL.Nat,\n    body: IDL.Vec(IDL.Nat8),\n    headers: IDL.Vec(http_header),\n  });\n  const http_request_args = IDL.Record({\n    url: IDL.Text,\n    method: IDL.Variant({\n      get: IDL.Null,\n      head: IDL.Null,\n      post: IDL.Null,\n    }),\n    max_response_bytes: IDL.Opt(IDL.Nat64),\n    body: IDL.Opt(IDL.Vec(IDL.Nat8)),\n    transform: IDL.Opt(\n      IDL.Record({\n        function: IDL.Func(\n          [\n            IDL.Record({\n              context: IDL.Vec(IDL.Nat8),\n              response: http_request_result,\n            }),\n          ],\n          [http_request_result],\n          ['query'],\n        ),\n        context: IDL.Vec(IDL.Nat8),\n      }),\n    ),\n    headers: IDL.Vec(http_header),\n  });\n  const canister_install_mode = IDL.Variant({\n    reinstall: IDL.Null,\n    upgrade: IDL.Opt(\n      IDL.Record({\n        wasm_memory_persistence: IDL.Opt(IDL.Variant({ keep: IDL.Null, replace: IDL.Null })),\n        skip_pre_upgrade: IDL.Opt(IDL.Bool),\n      }),\n    ),\n    install: IDL.Null,\n  });\n  const chunk_hash = IDL.Record({ hash: IDL.Vec(IDL.Nat8) });\n  const install_chunked_code_args = IDL.Record({\n    arg: IDL.Vec(IDL.Nat8),\n    wasm_module_hash: IDL.Vec(IDL.Nat8),\n    mode: canister_install_mode,\n    chunk_hashes_list: IDL.Vec(chunk_hash),\n    target_canister: canister_id,\n    store_canister: IDL.Opt(canister_id),\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const wasm_module = IDL.Vec(IDL.Nat8);\n  const install_code_args = IDL.Record({\n    arg: IDL.Vec(IDL.Nat8),\n    wasm_module: wasm_module,\n    mode: canister_install_mode,\n    canister_id: canister_id,\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const list_canister_snapshots_args = IDL.Record({\n    canister_id: canister_id,\n  });\n  const snapshot = IDL.Record({\n    id: snapshot_id,\n    total_size: IDL.Nat64,\n    taken_at_timestamp: IDL.Nat64,\n  });\n  const list_canister_snapshots_result = IDL.Vec(snapshot);\n  const load_canister_snapshot_args = IDL.Record({\n    canister_id: canister_id,\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n    snapshot_id: snapshot_id,\n  });\n  const node_metrics_history_args = IDL.Record({\n    start_at_timestamp_nanos: IDL.Nat64,\n    subnet_id: IDL.Principal,\n  });\n  const node_metrics = IDL.Record({\n    num_block_failures_total: IDL.Nat64,\n    node_id: IDL.Principal,\n    num_blocks_proposed_total: IDL.Nat64,\n  });\n  const node_metrics_history_result = IDL.Vec(\n    IDL.Record({\n      timestamp_nanos: IDL.Nat64,\n      node_metrics: IDL.Vec(node_metrics),\n    }),\n  );\n  const provisional_create_canister_with_cycles_args = IDL.Record({\n    settings: IDL.Opt(canister_settings),\n    specified_id: IDL.Opt(canister_id),\n    amount: IDL.Opt(IDL.Nat),\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const provisional_create_canister_with_cycles_result = IDL.Record({\n    canister_id: canister_id,\n  });\n  const provisional_top_up_canister_args = IDL.Record({\n    canister_id: canister_id,\n    amount: IDL.Nat,\n  });\n  const raw_rand_result = IDL.Vec(IDL.Nat8);\n  const schnorr_algorithm = IDL.Variant({\n    ed25519: IDL.Null,\n    bip340secp256k1: IDL.Null,\n  });\n  const schnorr_public_key_args = IDL.Record({\n    key_id: IDL.Record({\n      algorithm: schnorr_algorithm,\n      name: IDL.Text,\n    }),\n    canister_id: IDL.Opt(canister_id),\n    derivation_path: IDL.Vec(IDL.Vec(IDL.Nat8)),\n  });\n  const schnorr_public_key_result = IDL.Record({\n    public_key: IDL.Vec(IDL.Nat8),\n    chain_code: IDL.Vec(IDL.Nat8),\n  });\n  const sign_with_ecdsa_args = IDL.Record({\n    key_id: IDL.Record({ name: IDL.Text, curve: ecdsa_curve }),\n    derivation_path: IDL.Vec(IDL.Vec(IDL.Nat8)),\n    message_hash: IDL.Vec(IDL.Nat8),\n  });\n  const sign_with_ecdsa_result = IDL.Record({\n    signature: IDL.Vec(IDL.Nat8),\n  });\n  const schnorr_aux = IDL.Variant({\n    bip341: IDL.Record({ merkle_root_hash: IDL.Vec(IDL.Nat8) }),\n  });\n  const sign_with_schnorr_args = IDL.Record({\n    aux: IDL.Opt(schnorr_aux),\n    key_id: IDL.Record({\n      algorithm: schnorr_algorithm,\n      name: IDL.Text,\n    }),\n    derivation_path: IDL.Vec(IDL.Vec(IDL.Nat8)),\n    message: IDL.Vec(IDL.Nat8),\n  });\n  const sign_with_schnorr_result = IDL.Record({\n    signature: IDL.Vec(IDL.Nat8),\n  });\n  const start_canister_args = IDL.Record({ canister_id: canister_id });\n  const stop_canister_args = IDL.Record({ canister_id: canister_id });\n  const stored_chunks_args = IDL.Record({ canister_id: canister_id });\n  const stored_chunks_result = IDL.Vec(chunk_hash);\n  const subnet_info_args = IDL.Record({ subnet_id: IDL.Principal });\n  const subnet_info_result = IDL.Record({ replica_version: IDL.Text });\n  const take_canister_snapshot_args = IDL.Record({\n    replace_snapshot: IDL.Opt(snapshot_id),\n    canister_id: canister_id,\n  });\n  const take_canister_snapshot_result = snapshot;\n  const uninstall_code_args = IDL.Record({\n    canister_id: canister_id,\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const update_settings_args = IDL.Record({\n    canister_id: IDL.Principal,\n    settings: canister_settings,\n    sender_canister_version: IDL.Opt(IDL.Nat64),\n  });\n  const upload_chunk_args = IDL.Record({\n    chunk: IDL.Vec(IDL.Nat8),\n    canister_id: IDL.Principal,\n  });\n  const upload_chunk_result = chunk_hash;\n  return IDL.Service({\n    bitcoin_get_balance: IDL.Func([bitcoin_get_balance_args], [bitcoin_get_balance_result], []),\n    bitcoin_get_block_headers: IDL.Func(\n      [bitcoin_get_block_headers_args],\n      [bitcoin_get_block_headers_result],\n      [],\n    ),\n    bitcoin_get_current_fee_percentiles: IDL.Func(\n      [bitcoin_get_current_fee_percentiles_args],\n      [bitcoin_get_current_fee_percentiles_result],\n      [],\n    ),\n    bitcoin_get_utxos: IDL.Func([bitcoin_get_utxos_args], [bitcoin_get_utxos_result], []),\n    bitcoin_send_transaction: IDL.Func([bitcoin_send_transaction_args], [], []),\n    canister_info: IDL.Func([canister_info_args], [canister_info_result], []),\n    canister_status: IDL.Func([canister_status_args], [canister_status_result], []),\n    clear_chunk_store: IDL.Func([clear_chunk_store_args], [], []),\n    create_canister: IDL.Func([create_canister_args], [create_canister_result], []),\n    delete_canister: IDL.Func([delete_canister_args], [], []),\n    delete_canister_snapshot: IDL.Func([delete_canister_snapshot_args], [], []),\n    deposit_cycles: IDL.Func([deposit_cycles_args], [], []),\n    ecdsa_public_key: IDL.Func([ecdsa_public_key_args], [ecdsa_public_key_result], []),\n    fetch_canister_logs: IDL.Func(\n      [fetch_canister_logs_args],\n      [fetch_canister_logs_result],\n      ['query'],\n    ),\n    http_request: IDL.Func([http_request_args], [http_request_result], []),\n    install_chunked_code: IDL.Func([install_chunked_code_args], [], []),\n    install_code: IDL.Func([install_code_args], [], []),\n    list_canister_snapshots: IDL.Func(\n      [list_canister_snapshots_args],\n      [list_canister_snapshots_result],\n      [],\n    ),\n    load_canister_snapshot: IDL.Func([load_canister_snapshot_args], [], []),\n    node_metrics_history: IDL.Func([node_metrics_history_args], [node_metrics_history_result], []),\n    provisional_create_canister_with_cycles: IDL.Func(\n      [provisional_create_canister_with_cycles_args],\n      [provisional_create_canister_with_cycles_result],\n      [],\n    ),\n    provisional_top_up_canister: IDL.Func([provisional_top_up_canister_args], [], []),\n    raw_rand: IDL.Func([], [raw_rand_result], []),\n    schnorr_public_key: IDL.Func([schnorr_public_key_args], [schnorr_public_key_result], []),\n    sign_with_ecdsa: IDL.Func([sign_with_ecdsa_args], [sign_with_ecdsa_result], []),\n    sign_with_schnorr: IDL.Func([sign_with_schnorr_args], [sign_with_schnorr_result], []),\n    start_canister: IDL.Func([start_canister_args], [], []),\n    stop_canister: IDL.Func([stop_canister_args], [], []),\n    stored_chunks: IDL.Func([stored_chunks_args], [stored_chunks_result], []),\n    subnet_info: IDL.Func([subnet_info_args], [subnet_info_result], []),\n    take_canister_snapshot: IDL.Func(\n      [take_canister_snapshot_args],\n      [take_canister_snapshot_result],\n      [],\n    ),\n    uninstall_code: IDL.Func([uninstall_code_args], [], []),\n    update_settings: IDL.Func([update_settings_args], [], []),\n    upload_chunk: IDL.Func([upload_chunk_args], [upload_chunk_result], []),\n  });\n};\n", "/**\n * This file is generated from the candid for asset management.\n */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nexport default ({ IDL }) => {\n  return IDL.Service({\n    retrieve: IDL.Func([IDL.Text], [IDL.Vec(IDL.Nat8)], ['query']),\n    store: IDL.Func([IDL.Text, IDL.Vec(IDL.Nat8)], [], []),\n  });\n};\n", "import { Actor, ActorConfig, ActorSubclass, CallConfig } from '../actor';\nimport assetCanister from './asset_idl';\n\nexport interface AssetCanisterRecord {\n  store(path: string, content: number[]): Promise<void>;\n  retrieve(path: string): Promise<number[]>;\n}\n\n/**\n * Create a management canister actor.\n * @param config\n */\nexport function createAssetCanisterActor(config: ActorConfig) {\n  return Actor.createActor<AssetCanisterRecord>(assetCanister, config);\n}\n", "import { Principal } from '@dfinity/principal';\nimport * as CanisterStatus from './canisterStatus/index';\nimport { IDL } from '@dfinity/candid';\nimport { HttpAgent } from './agent/http';\nimport { Actor, ActorSubclass } from './actor';\n\n/**\n * Retrieves the Candid interface for the specified canister.\n *\n * @param agent The agent to use for the request (usually an `HttpAgent`)\n * @param canisterId A string corresponding to the canister ID\n * @returns Candid source code\n */\nexport async function fetchCandid(canisterId: string, agent?: HttpAgent): Promise<string> {\n  if (!agent) {\n    // Create an anonymous `HttpAgent` (adapted from Candid UI)\n    agent = await HttpAgent.create();\n  }\n\n  // Attempt to use canister metadata\n  const status = await CanisterStatus.request({\n    agent,\n    canisterId: Principal.fromText(canisterId),\n    paths: ['candid'],\n  });\n  const candid = status.get('candid') as string | undefined;\n  if (candid) {\n    return candid;\n  }\n\n  // Use `__get_candid_interface_tmp_hack` for canisters without Candid metadata\n  const tmpHackInterface: IDL.InterfaceFactory = ({ IDL }) =>\n    IDL.Service({\n      __get_candid_interface_tmp_hack: IDL.Func([], [IDL.Text], ['query']),\n    });\n  const actor: ActorSubclass = Actor.createActor(tmpHackInterface, { agent, canisterId });\n  return (await actor.__get_candid_interface_tmp_hack()) as string;\n}\n"],
  "mappings": "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",
  "names": ["import_buffer", "request", "settings", "response"]
}
